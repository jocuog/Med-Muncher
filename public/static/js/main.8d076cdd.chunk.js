(this["webpackJsonpmed-muncher"]=this["webpackJsonpmed-muncher"]||[]).push([[0],{18:function(e,t,s){},19:function(e,t,s){},26:function(e,t,s){"use strict";s.r(t);var n=s(1),c=s(12),i=s.n(c),a=(s(18),s(3)),l=(s(19),s(2)),r=s(0),o=function(e){var t=e.setPatient,s=Object(n.useState)(""),c=Object(a.a)(s,2),i=c[0],l=c[1],o=Object(n.useState)(""),j=Object(a.a)(o,2),d=j[0],b=j[1],u=Object(n.useState)(""),h=Object(a.a)(u,2),O=h[0],x=h[1],m=Object(n.useState)([]),p=Object(a.a)(m,2),f=(p[0],p[1]),v=Object(n.useState)(!1),g=Object(a.a)(v,2),y=g[0],k=g[1];return Object(r.jsx)("div",{children:Object(r.jsxs)("div",{style:{opacity:".8"},class:"nes-container is-dark is-rounded with-title",children:[Object(r.jsx)("div",{class:"title",children:"Create account"}),Object(r.jsx)("div",{children:Object(r.jsxs)("form",{onSubmit:function(e){e.preventDefault();var s={name:i,username:d,password:O,points:0,level:1};fetch("/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}).then((function(e){e.ok?e.json().then((function(e){t(e)})):(console.log(s),e.json().then((function(e){return f(e.errors)})),k(!0))}))},children:[Object(r.jsxs)("div",{class:"nes-field",children:[Object(r.jsx)("label",{children:"Name "}),Object(r.jsx)("input",{style:{borderRadius:"5px",backgroundColor:"pink"},type:"text",placeholder:"Enter Name...",id:"exampleEmailInput",onChange:function(e){return l(e.target.value)}})]}),Object(r.jsx)("br",{}),Object(r.jsxs)("div",{class:"nes-field",children:[Object(r.jsx)("label",{children:"Username "}),Object(r.jsx)("input",{style:{borderRadius:"5px",backgroundColor:"pink"},type:"text",placeholder:"Enter username...",id:"exampleEmailInput",onChange:function(e){return b(e.target.value)}})]}),Object(r.jsx)("br",{}),Object(r.jsxs)("div",{class:"nes-field",children:[Object(r.jsx)("label",{children:"Password "}),Object(r.jsx)("input",{style:{borderRadius:"5px",backgroundColor:"pink"},type:"password",placeholder:"Enter password...",id:"exampleEmailInput",onChange:function(e){return x(e.target.value)}})]}),Object(r.jsx)("br",{}),Object(r.jsx)("button",{class:"nes-btn is-primary",type:"submit",children:"Sign Up"})]})}),Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{className:"auth-popup",children:y?Object(r.jsx)(r.Fragment,{children:Object(r.jsx)("div",{class:"nes-balloon from-left is-dark",children:Object(r.jsx)("p",{children:"Please enter valid data in all fields."})})}):Object(r.jsx)(r.Fragment,{children:Object(r.jsx)("div",{class:"nes-balloon from-left is-dark",children:Object(r.jsx)("p",{children:"Create a new Account."})})})}),Object(r.jsx)("img",{className:"auth-image",src:"https://pbs.twimg.com/profile_images/1111692640/number_400x400.png",alt:"Error muncher"})]})]})})},j=function(e){var t=e.setPatient,s=Object(n.useState)(""),c=Object(a.a)(s,2),i=c[0],l=c[1],o=Object(n.useState)(""),j=Object(a.a)(o,2),d=j[0],b=j[1],u=Object(n.useState)([]),h=Object(a.a)(u,2),O=(h[0],h[1]),x=Object(n.useState)(!1),m=Object(a.a)(x,2),p=m[0],f=m[1];return Object(r.jsxs)("div",{style:{opacity:".8"},class:"nes-container is-dark is-rounded with-title",children:[Object(r.jsx)("div",{class:"title",children:"Patient Login"}),Object(r.jsxs)("div",{className:"login",children:[Object(r.jsx)("div",{children:Object(r.jsxs)("form",{onSubmit:function(e){e.preventDefault();var s={username:i,password:d};fetch("/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}).then((function(e){e.ok?e.json().then((function(e){t(e)})):(e.json().then((function(e){return O(e.errors)})),f(!0))}))},children:[Object(r.jsxs)("div",{children:[Object(r.jsx)("label",{class:"nes-field",children:"Username"}),Object(r.jsx)("br",{}),Object(r.jsx)("input",{style:{borderRadius:"5px",backgroundColor:"pink"},type:"text",placeholder:"Enter new username...",id:"exampleEmailInput",onChange:function(e){return l(e.target.value)}})]}),Object(r.jsx)("br",{}),Object(r.jsxs)("div",{children:[Object(r.jsx)("label",{class:"nes-field",children:"Password "}),Object(r.jsx)("br",{}),Object(r.jsx)("input",{style:{borderRadius:"5px",backgroundColor:"pink"},type:"password",placeholder:"Enter new password...",id:"exampleEmailInput",onChange:function(e){return b(e.target.value)}})]}),Object(r.jsx)("button",{style:{marginTop:"20px"},class:"nes-btn is-primary",type:"submit",children:"Login"})]})}),Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{className:"login-popup",children:p?Object(r.jsx)(r.Fragment,{children:Object(r.jsx)("div",{class:"nes-balloon from-right is-dark",children:Object(r.jsx)("p",{children:"Incorrect Login."})})}):Object(r.jsx)(r.Fragment,{children:Object(r.jsx)("div",{class:"nes-balloon from-right is-dark",children:Object(r.jsx)("p",{children:"Sign In to your Account."})})})}),Object(r.jsx)("img",{className:"login-image",src:"https://art.ngfiles.com/images/781000/781757_sketching1star_pac-man-looped.gif?f1547186404",alt:"Error muncher"})]})]})]})},d=function(e){var t=e.patient,s=e.textBubble,n=t.name,c=t.username,i=t.avatar,a=t.image,o=t.points,j=t.level,d=Object(l.f)();return Object(r.jsxs)("div",{class:"nes-container is-rounded is-dark with-title is-centered",children:[Object(r.jsx)("h2",{class:"title",children:"Profile"}),Object(r.jsx)("div",{className:"med-doc-container",children:Object(r.jsx)("div",{class:"nes-table-responsive",children:Object(r.jsx)("table",{style:{width:"98%",margin:"0 auto",marginBottom:"20px"},class:"nes-table is-bordered is-dark",children:Object(r.jsx)("thead",{children:Object(r.jsxs)("tr",{children:[Object(r.jsx)("th",{children:null===a?Object(r.jsxs)("div",{children:[Object(r.jsx)("p",{children:"Hey, if you want an image here,"}),Object(r.jsx)("button",{onClick:function(){return d("/edit-patient")},class:"nes-btn is-warning is-small",children:"Go edit profile"})]}):Object(r.jsx)("img",{src:a,alt:n})}),Object(r.jsxs)("th",{children:[Object(r.jsxs)("h2",{style:{color:"yellow"},children:["Name:",n]}),Object(r.jsx)("br",{}),Object(r.jsxs)("h2",{style:{color:"lime"},children:["Username:",c]}),Object(r.jsx)("br",{}),Object(r.jsxs)("h2",{style:{color:"magenta"},children:["Score:",o]}),Object(r.jsx)("br",{}),Object(r.jsxs)("h2",{style:{color:"cyan"},children:["Level:",j]})]}),Object(r.jsxs)("th",{children:[null===s&&null===i?(console.log("hey"),Object(r.jsxs)("div",{children:[Object(r.jsxs)("p",{children:["Hey ",n,"!"]}),Object(r.jsx)("p",{children:"Set your reminder buddy"}),Object(r.jsx)("button",{onClick:function(){return d("/edit-patient")},class:"nes-btn is-warning is-small",children:"Go edit profile"})]})):null===s?Object(r.jsx)("div",{children:Object(r.jsxs)("div",{class:"nes-balloon from-right",children:[Object(r.jsxs)("p",{className:"bubble-text",children:[Object(r.jsx)("i",{class:"nes-icon is-small star"}),Object(r.jsx)("i",{class:"nes-icon is-small star"}),Object(r.jsx)("i",{class:"nes-icon is-small star"}),"Hello ",n,"!",Object(r.jsx)("i",{class:"nes-icon is-small star"}),Object(r.jsx)("i",{class:"nes-icon is-small star"}),Object(r.jsx)("i",{class:"nes-icon is-small star"})]}),Object(r.jsx)("p",{className:"bubble-text",children:"Dont forget to take"}),Object(r.jsx)("p",{className:"bubble-text",children:"your medicine."}),Object(r.jsx)("i",{class:"nes-icon is-medium like"}),Object(r.jsx)("i",{class:"nes-icon is-medium like"})]})}):1===s?Object(r.jsx)("div",{children:Object(r.jsxs)("div",{style:{color:"green"},class:"nes-balloon from-right",children:["Good Job ",n,"!",Object(r.jsx)("br",{}),Object(r.jsxs)("button",{onClick:function(){return window.location.reload()},class:"nes-btn is-success is-small",children:[Object(r.jsx)("i",{class:"nes-icon coin is-small"}),"Restart Timer",Object(r.jsx)("i",{class:"nes-icon coin is-small"})]})]})}):2===s?Object(r.jsx)("div",{children:Object(r.jsxs)("div",{class:"nes-balloon from-right",children:[Object(r.jsxs)("p",{className:"bubble-text",children:[Object(r.jsx)("i",{class:"nes-icon is-small star"}),Object(r.jsx)("i",{class:"nes-icon is-small star"}),Object(r.jsx)("i",{class:"nes-icon is-small star"}),"Hey ",n,"!",Object(r.jsx)("i",{class:"nes-icon is-small star"}),Object(r.jsx)("i",{class:"nes-icon is-small star"}),Object(r.jsx)("i",{class:"nes-icon is-small star"})]}),Object(r.jsx)("p",{className:"bubble-text",children:"Youre out of Medicine "}),Object(r.jsxs)("button",{onClick:function(){return window.location.reload()},class:"nes-btn is-error is-small",children:[Object(r.jsx)("i",{class:"nes-icon close is-small"}),"OK!",Object(r.jsx)("i",{class:"nes-icon close is-small"})]})]})}):void 0,Object(r.jsx)("i",{style:{position:"relative",left:"180px"},class:"".concat(i)})]})]})})})})})]})},b=s(13),u=function(e){var t=e.medications,s=e.patient,c=e.setTextBubble,i=e.onUpdateScore,l=e.onUpdateMeds,o=e.onDeleteMeds,j=t.name,d=t.dosage,u=t.frequency,h=t.instructions,O=t.initial_amount,x=t.fill_date,m=t.refill_date,p=s.points,f=s.level,v=Object(n.useState)(p),g=Object(a.a)(v,2),y=g[0],k=g[1],S=Object(n.useState)(f),C=Object(a.a)(S,2),N=C[0],w=C[1],D=Object(n.useState)(O),E=Object(a.a)(D,2),_=E[0],T=E[1],I=Object(n.useState)({date:Date.now(),delay:1e4*u}),P=Object(a.a)(I,2),F=P[0],M=P[1],R=function(e){if(e)return e.split("T")[0]};Object(n.useEffect)((function(){var e,t=(e="end_date",localStorage.getItem(e));if(null!=t&&!isNaN(t)){var s=Date.now(),n=parseInt(t,10)-s;n>6e4?localStorage.getItem("end_date").length>0&&localStorage.removeItem("end_date"):M({date:s,delay:n})}}),[M,p]);return Object(n.useEffect)((function(){fetch("/patients/".concat(s.id),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({points:y,level:N})}).then((function(e){e.ok?e.json().then((function(e){console.log("success",y,e),i(e)})):e.json().then((function(e){return console.log("wrong")}))}))}),[y,N,s.id]),Object(n.useEffect)((function(){fetch("/medications/".concat(t.id),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({initial_amount:_})}).then((function(e){e.ok?e.json().then((function(e){console.log("success",_,e),l(e)})):e.json().then((function(e){return console.log("wrong",t.id)}))}))}),[_,t.id]),Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)("div",{class:"nes-container is-dark is-rounded with-title is-centered",children:[Object(r.jsx)("h2",{class:"title",children:j}),Object(r.jsxs)("div",{class:"nes-container is-rounded is-dark with-title is-centered",children:[Object(r.jsx)("div",{class:"title",children:"Countdown"}),Object(r.jsx)(b.a,{date:F.date+F.delay,renderer:function(e){var s=e.days,n=e.hours,i=e.minutes,a=e.seconds;return e.completed?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("button",{style:{position:"relative",bottom:"50px"},class:"nes-balloon from-right",children:["Time To take ",d," of ",j,".",Object(r.jsx)("br",{}),h,Object(r.jsx)("br",{}),"-",t.doctor.name,Object(r.jsx)("br",{}),Object(r.jsx)("button",{class:"nes-btn is-success is-small",onClick:function(){return null!=localStorage.getItem("end_date")&&localStorage.removeItem("end_date"),k((function(e){return e+10})),y%100===0&&w((function(e){return e+1})),_<=1&&T((function(e){return e-d})),c(2),_<=1?(fetch("medications/".concat(t.id),{method:"DELETE"}),o(t)):(c(1),T((function(e){return e-d}))),M({date:Date.now(),delay:1e4*u})},children:"I did it!"})]}),Object(r.jsx)("i",{style:{position:"relative",top:"135px"},class:"nes-bcrikko"})]}):Object(r.jsxs)("span",{children:["Days",s,":Hours",n,":Minutes",i,":Seconds",a]})},onStart:function(e){null==localStorage.getItem("end_date")&&localStorage.setItem("end_date",JSON.stringify(F.date+F.delay))}})]}),Object(r.jsxs)("div",{className:"med-doc-container",children:[Object(r.jsxs)("div",{class:"nes-container is-rounded is-dark with-title is-centered",children:[Object(r.jsx)("div",{class:"title",children:"Medication"}),Object(r.jsxs)("div",{className:"medication-container",children:[Object(r.jsxs)("h3",{children:["Medicine:",j]}),Object(r.jsxs)("h3",{children:["Dosage:",d]}),Object(r.jsxs)("h3",{children:["Frequency(Days):",u]}),Object(r.jsxs)("h3",{children:["Instructions:",h]}),Object(r.jsxs)("h3",{children:["Remaining:",O]}),Object(r.jsxs)("h3",{children:["Fill Date:",R(x)]}),Object(r.jsxs)("h3",{children:["Refill Date:",R(m)]})]})]}),Object(r.jsxs)("div",{class:"nes-container is-rounded is-dark with-title is-centered",children:[Object(r.jsx)("div",{class:"title",children:"Doctor"}),Object(r.jsxs)("div",{className:"doctor-container",children:[Object(r.jsx)("i",{class:"nes-icon is-small heart"}),Object(r.jsx)("i",{class:"nes-icon is-small heart"}),Object(r.jsx)("i",{class:"nes-icon is-small heart"}),Object(r.jsx)("i",{class:"nes-icon is-small heart"}),Object(r.jsx)("i",{class:"nes-icon is-small heart"}),Object(r.jsx)("br",{}),Object(r.jsxs)("h3",{children:["Name:",t.doctor.name]}),Object(r.jsx)("br",{}),Object(r.jsxs)("h3",{children:["Location:",t.doctor.location]}),Object(r.jsx)("br",{}),Object(r.jsxs)("h3",{children:["Phone:",t.doctor.phone]}),Object(r.jsx)("br",{}),Object(r.jsxs)("h3",{children:["Email:",t.doctor.email]}),Object(r.jsx)("br",{})]})]})]}),Object(r.jsx)("button",{className:"remove-button",onClick:function(){return function(e){fetch("medications/".concat(e.id),{method:"DELETE"}),o(e),console.log(e)}(t)},children:"Remove Medicine"})]})})},h=function(e){var t=e.doctors,s=t.name,n=t.location,c=t.phone,i=t.email;return Object(r.jsxs)("div",{children:[Object(r.jsxs)("h3",{children:["Doc Name:",s]}),Object(r.jsxs)("h3",{children:["Doc Loc:",n]}),Object(r.jsxs)("h3",{children:["Doc Phone:",c]}),Object(r.jsxs)("h3",{children:["Doc Email:",i]})]})},O=function(e){var t=e.setPatient,s=e.patient,c=Object(n.useState)([]),i=Object(a.a)(c,2),o=i[0],j=i[1],b=Object(n.useState)([]),O=Object(a.a)(b,2),x=O[0],m=O[1],p=Object(n.useState)(null),f=Object(a.a)(p,2),v=f[0],g=f[1];Object(n.useEffect)((function(){fetch("/my_medications").then((function(e){e.ok&&e.json().then((function(e){return j(e)}))}))}),[]),Object(n.useEffect)((function(){fetch("/my_doctors").then((function(e){e.ok&&e.json().then((function(e){return m(e)}))}))}),[]);Object(l.f)();var y=function(e){t(e)},k=function(e){var t=o.filter((function(t){return t.id!==e.id}));j(t),console.log("delete",e)},S=function(e){var t=o.map((function(t){return t.id===e.id?e:t}));j(t)},C=o.map((function(e){return Object(r.jsx)(u,{medications:e,setMedications:j,patient:s,setTextBubble:g,onUpdateScore:y,onUpdateMeds:S,onDeleteMeds:k},e.id)}));x.map((function(e){return Object(r.jsx)(h,{doctors:e,setDoctors:m},e.id)}));return Object(r.jsxs)("div",{children:[Object(r.jsx)(d,{patient:s,setPatient:t,textBubble:v,setTextBubble:g}),Object(r.jsxs)("div",{class:"nes-container is-dark with-title is-centered",children:[Object(r.jsx)("h2",{class:"title",children:"Medications"}),Object(r.jsx)("br",{}),C]})]})},x=s(6),m=function(e){var t=e.setPatient,s=Object(l.f)();return Object(r.jsx)("div",{className:"navbar",children:Object(r.jsxs)("div",{class:"nes-container is-rounded with-title",children:[Object(r.jsx)("div",{class:"title",children:"Navigation"}),Object(r.jsx)(x.b,{class:"nes-container is-rounded is-dark",style:{padding:15},to:"/",children:"|HOME|"}),Object(r.jsx)(x.b,{class:"nes-container is-rounded is-dark",style:{padding:15},to:"/new_medication",children:"|ADD NEW MEDICATION|"}),Object(r.jsx)(x.b,{class:"nes-container is-rounded is-dark",style:{padding:15},to:"/add_Doctor",children:"|ADD DOCTOR|"}),Object(r.jsx)(x.b,{class:"nes-container is-rounded is-dark",style:{padding:15},to:"/edit-patient",children:"|EDIT PROFILE|"}),Object(r.jsx)("button",{style:{margin:15},class:"nes-btn is-primary",type:"button",onClick:function(){fetch("/logout",{method:"DELETE"}).then((function(){t(null)})),s("/")},children:"LOGOUT"})]})})},p=s(8),f=s(7),v=(s(25),function(e){var t=e.patient,s=Object(n.useState)(""),c=Object(a.a)(s,2),i=c[0],o=(c[1],Object(n.useState)([])),j=Object(a.a)(o,2),d=j[0],b=j[1],u=Object(n.useState)({patient_id:t.id,doctor_id:i,name:"",dosage:0,frequency:0,instructions:"",initial_amount:0,fill_date:0,refill_date:0}),h=Object(a.a)(u,2),O=h[0],x=h[1],m=function(e){var t=e.target,s=t.name,n=t.value;x((function(e){return Object(f.a)(Object(f.a)({},e),{},Object(p.a)({},s,n))}))},v=Object(l.f)();return Object(n.useEffect)((function(){fetch("/doctors").then((function(e){e.ok&&e.json().then((function(e){return b(e)}))}))}),[]),Object(r.jsx)("div",{className:"new-medication",children:Object(r.jsx)("section",{children:Object(r.jsxs)("form",{className:"form",autoComplete:"off",onSubmit:function(e){e.preventDefault(),fetch("/medications",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(O)}).then((function(e){e.ok?e.json().then((function(e){console.log("success"),v("/")})):e.json().then((function(e){return console.log("wrong",O,d)}))}))},children:[Object(r.jsxs)("div",{class:"nes-container is-success is-rounded is centered",children:[Object(r.jsx)("h2",{class:"title",children:"NEW MEDICATION"}),Object(r.jsx)("div",{className:"new-med-container",children:Object(r.jsx)("div",{className:"new-med-sub-container",children:Object(r.jsxs)("div",{className:"med-form",children:[Object(r.jsxs)("div",{children:[Object(r.jsx)("label",{className:"form-text",htmlFor:"name",children:"Name"}),Object(r.jsx)("br",{}),Object(r.jsx)("input",{placeholder:"ENTER NAME...",class:"nes-input is-success",type:"text",id:"name",name:"name",onChange:m,value:O.name})]}),Object(r.jsxs)("div",{children:[Object(r.jsx)("label",{className:"form-text",htmlFor:"instructions",children:"Instructions"}),Object(r.jsx)("br",{}),Object(r.jsx)("input",{placeholder:"INSTRUCTIONS...",class:"nes-input is-success",type:"text",id:"instructions",name:"instructions",onChange:m,value:O.instructions})]}),Object(r.jsxs)("div",{children:[Object(r.jsx)("label",{className:"form-text",htmlFor:"dosage",children:"Dosage"}),Object(r.jsx)("br",{}),Object(r.jsx)("input",{class:"nes-input is-success",type:"number",min:"0",step:"1",id:"dosage",name:"dosage",onChange:m,value:O.dosage})]}),Object(r.jsxs)("div",{children:[Object(r.jsx)("label",{className:"form-text",htmlFor:"frequency",children:"Frequency(Days)"}),Object(r.jsx)("br",{}),Object(r.jsx)("input",{class:"nes-input is-success",type:"number",min:"0",step:"1",id:"frequency",name:"frequency",onChange:m,value:O.frequency})]}),Object(r.jsxs)("div",{children:[Object(r.jsx)("label",{className:"form-text",htmlFor:"initial_amount",children:"Starting Quantity"}),Object(r.jsx)("br",{}),Object(r.jsx)("input",{class:"nes-input is-success",type:"number",min:"0",id:"initial_amount",name:"initial_amount",onChange:m,value:O.initial_amount})]})]})})})]}),Object(r.jsxs)("div",{className:"med-form2",children:[Object(r.jsxs)("div",{children:[Object(r.jsx)("label",{htmlFor:"doctor_id",children:"Doctor"}),Object(r.jsx)("br",{}),Object(r.jsxs)("select",{class:"nes-input is-warning",name:"doctor_id",id:"doctor_id",onChange:m,value:O.doctor_id,children:[Object(r.jsx)("option",{value:"Select Doctor",children:"Select Doctor"}),d.map((function(e){return Object(r.jsx)("option",{value:e.id,children:e.name},e.id)}))]})]}),Object(r.jsx)("br",{}),Object(r.jsxs)("div",{children:[Object(r.jsx)("label",{htmlFor:"fill_date",children:"Fill Date"}),Object(r.jsx)("br",{}),Object(r.jsx)("input",{class:"nes-input is-warning",type:"date",id:"fill_date",name:"fill_date",onChange:m,value:O.fill_date})]}),Object(r.jsx)("br",{}),Object(r.jsxs)("div",{children:[Object(r.jsx)("label",{htmlFor:"refill_date",children:"Refill Date"}),Object(r.jsx)("br",{}),Object(r.jsx)("input",{class:"nes-input is-warning",type:"date",id:"refill_date",name:"refill_date",onChange:m,value:O.refill_date})]}),Object(r.jsx)("br",{})]}),Object(r.jsxs)("button",{className:"submit-button",type:"submit",children:["ADD ",Object(r.jsx)("br",{}),Object(r.jsx)("h1",{children:"?"}),"MEDICATION"]})]})})})}),g=function(e){var t=e.patient;console.log(t);var s=Object(n.useState)({name:"",location:"",phone:"",email:""}),c=Object(a.a)(s,2),i=c[0],o=c[1],j=function(e){var t=e.target,s=t.name,n=t.value;o((function(e){return Object(f.a)(Object(f.a)({},e),{},Object(p.a)({},s,n))}))},d=Object(l.f)();return Object(r.jsx)("div",{className:"add-doctor",children:Object(r.jsx)("div",{style:{position:"relative"},children:Object(r.jsxs)("div",{style:{maxWidth:"30%",color:"white",opacity:.8,position:"absolute",top:"150px",left:"50%"},class:"nes-container is-rounded is-dark with-title",children:[Object(r.jsx)("h2",{class:"title",children:"Add Doctor"}),Object(r.jsx)("section",{children:Object(r.jsx)("div",{children:Object(r.jsxs)("form",{children:[Object(r.jsxs)("div",{children:[Object(r.jsx)("label",{htmlFor:"name",children:"Name"}),Object(r.jsx)("br",{}),Object(r.jsx)("input",{class:"nes-input is-dark is-success",type:"text",id:"name",name:"name",onChange:j,value:i.name})]}),Object(r.jsxs)("div",{children:[Object(r.jsx)("label",{htmlFor:"location",children:"Location"}),Object(r.jsx)("br",{}),Object(r.jsx)("input",{class:"nes-input is-dark is-success",type:"text",id:"location",name:"location",onChange:j,value:i.location})]}),Object(r.jsxs)("div",{children:[Object(r.jsx)("label",{htmlFor:"phone",children:"Phone"}),Object(r.jsx)("br",{}),Object(r.jsx)("input",{class:"nes-input is-dark is-success",type:"text",id:"phone",name:"phone",onChange:j,value:i.phone})]}),Object(r.jsxs)("div",{children:[Object(r.jsx)("label",{htmlFor:"email",children:"Email"}),Object(r.jsx)("br",{}),Object(r.jsx)("input",{class:"nes-input is-dark is-success",type:"text",id:"email",name:"email",onChange:j,value:i.email})]}),Object(r.jsx)("br",{}),Object(r.jsx)("button",{style:{},onClick:function(e){e.preventDefault(),fetch("/doctors",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(i)}).then((function(e){e.ok?e.json().then((function(e){console.log("success"),d("/")})):e.json().then((function(e){return console.log("wrong",i)}))}))},class:"nes-btn is-success",type:"submit",children:"Add Doctor"})]})})})]})})})},y=function(e){var t=e.patient,s=e.onUpdatePatient,c=t.username,i=t.avatar,o=t.image,j=t.name,b=Object(n.useState)({username:c,avatar:i,image:o}),u=Object(a.a)(b,2),h=u[0],O=u[1],x=function(e){var t=e.target,s=t.name,n=t.value;O((function(e){return Object(f.a)(Object(f.a)({},e),{},Object(p.a)({},s,n))}))},m=Object(l.f)();Object(n.useEffect)((function(){fetch("/patients/".concat(t.id)).then((function(e){e.ok&&e.json().then((function(e){return O(e)}))}))}),[t.id,O]);return Object(r.jsx)("div",{className:"edit-profile-container",children:Object(r.jsxs)("div",{children:[Object(r.jsx)(d,{patient:t}),Object(r.jsxs)("div",{style:{opacity:".9"},class:"nes-container is-dark is-rounded with-title is-centered",children:[Object(r.jsx)("h2",{class:"title",children:"Edit Profile"}),Object(r.jsx)("section",{children:Object(r.jsx)("form",{autoComplete:"off",onSubmit:function(e){e.preventDefault(),fetch("/patients/".concat(t.id),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(h)}).then((function(e){e.ok?e.json().then((function(e){console.log("success",e),s(e),m("/")})):e.json().then((function(e){return console.log("wrong")}))}))},children:Object(r.jsxs)("div",{class:"nes-table-responsive",children:[Object(r.jsx)("table",{style:{width:"98%",margin:"0 auto",marginBottom:"20px"},class:"nes-table is-bordered is-dark",children:Object(r.jsx)("thead",{children:Object(r.jsxs)("tr",{children:[Object(r.jsx)("th",{children:Object(r.jsx)("img",{src:o,alt:j})}),Object(r.jsxs)("th",{children:[Object(r.jsxs)("div",{children:[Object(r.jsx)("label",{htmlFor:"username",class:"nes-field",children:" Change Username"}),Object(r.jsx)("br",{}),Object(r.jsx)("input",{class:"nes-input is-warning",style:{borderRadius:"5px",backgroundColor:"pink"},type:"text",id:"username",name:"username",onChange:x,value:h.username})]}),Object(r.jsx)("br",{}),Object(r.jsx)("label",{htmlFor:"image",class:"nes-field",children:" Enter an Image"}),Object(r.jsx)("br",{}),Object(r.jsx)("div",{children:Object(r.jsx)("input",{class:"nes-input is-warning",style:{borderRadius:"5px",backgroundColor:"pink"},type:"text",id:"image",name:"image",onChange:x,value:h.image})})]}),Object(r.jsxs)("th",{children:[Object(r.jsx)("div",{children:Object(r.jsx)("label",{htmlFor:"avatar",class:"nes-field",children:"Pick Your Buddy"})}),Object(r.jsx)("i",{class:"".concat(h.avatar)}),Object(r.jsxs)("div",{class:"nes-select is-error",children:[Object(r.jsx)("br",{}),Object(r.jsxs)("select",{style:{borderRadius:"5px",backgroundColor:"pink"},type:"text",id:"avatar",name:"avatar",onChange:x,value:h.avatar,children:[Object(r.jsx)("option",{value:"nes-mario",children:"Mario"}),Object(r.jsx)("option",{value:"nes-ash",children:"Ash Ketchum"}),Object(r.jsx)("option",{value:"nes-pokeball",children:"Pokeball"}),Object(r.jsx)("option",{value:"nes-bulbasaur",children:"Bulbasaur"}),Object(r.jsx)("option",{value:"nes-charmander",children:"Charmander"}),Object(r.jsx)("option",{value:"nes-squirtle",children:"Squirtle"}),Object(r.jsx)("option",{value:"nes-kirby",children:"Kirby"}),Object(r.jsx)("option",{value:"nes-octocat animate",children:"Octocat"})]})]})]})]})})}),Object(r.jsx)("button",{class:"nes-btn is-error",type:"submit",children:"SUBMIT"})]})})})]})]})})};var k=function(){var e=Object(n.useState)(null),t=Object(a.a)(e,2),s=t[0],c=t[1],i=Object(n.useState)([]),d=Object(a.a)(i,2),b=d[0],x=d[1],p=Object(n.useState)([]),f=Object(a.a)(p,2),k=f[0],S=f[1];return Object(n.useEffect)((function(){fetch("/me").then((function(e){e.ok&&e.json().then((function(e){return c(e)}))}))}),[]),Object(n.useEffect)((function(){fetch("/my_medications").then((function(e){e.ok&&e.json().then((function(e){return x(e)}))}))}),[]),Object(n.useEffect)((function(){fetch("/my_doctors").then((function(e){e.ok&&e.json().then((function(e){return S(e)}))}))}),[]),s?Object(r.jsxs)("div",{className:"main-container",children:[Object(r.jsx)(m,{setPatient:c,patient:s}),Object(r.jsxs)(l.c,{children:[Object(r.jsx)(l.a,{exact:!0,path:"/",element:Object(r.jsx)(O,{setPatient:c,patient:s,medications:b,setMedications:x,doctors:k,setDoctors:S})}),Object(r.jsx)(l.a,{path:"/doctors/:id",element:Object(r.jsx)(h,{})}),Object(r.jsx)(l.a,{path:"/new_medication",element:Object(r.jsx)(v,{patient:s,doctors:k,setDoctors:S})}),Object(r.jsx)(l.a,{path:"/add_doctor",element:Object(r.jsx)(g,{patient:s})}),Object(r.jsx)(l.a,{path:"/edit-patient",element:Object(r.jsx)(y,{patient:s,onUpdatePatient:function(e){c(e)}})}),Object(r.jsx)(l.a,{path:"medications/:id",element:Object(r.jsx)(u,{})})]})]}):Object(r.jsxs)("div",{className:"main-container",children:[Object(r.jsx)("h1",{className:"mainhead",children:"Med Muncher"}),Object(r.jsx)(j,{error:"please login",setPatient:c}),Object(r.jsx)("br",{}),Object(r.jsx)(o,{setPatient:c})]})},S=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,27)).then((function(t){var s=t.getCLS,n=t.getFID,c=t.getFCP,i=t.getLCP,a=t.getTTFB;s(e),n(e),c(e),i(e),a(e)}))};i.a.render(Object(r.jsx)(x.a,{children:Object(r.jsx)(k,{})}),document.getElementById("root")),S()}},[[26,1,2]]]);
//# sourceMappingURL=main.8d076cdd.chunk.js.map